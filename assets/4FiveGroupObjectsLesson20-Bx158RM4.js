import{j as e}from"./ui-vendor-D4wbF8Bg.js";import{u as g,r as o}from"./react-vendor-X0Zsz5kA.js";import{B as n}from"./button-CyGigXcH.js";import{C as v}from"./card-BKS9G_hb.js";import{M as j}from"./MuteButton-Av5A2wkK.js";import{f as w}from"./index-WHP0WTu3.js";import{A as N}from"./arrow-left-BW0fSAUu.js";import{H as y}from"./hand-Cc3XtzK2.js";import"./volume-x-CPN5PYmk.js";import"./volume-2-IYuLHCtA.js";const H=({selectedIndices:s,setSelectedIndices:d})=>{const c=g(),[r,x]=o.useState(0),[i,h]=o.useState(null),[u,p]=o.useState(!1),{isMuted:m}=w(),f=()=>{const l=localStorage.getItem("ethio-stem-m4-completed"),t=l?JSON.parse(l):[];t.includes("20")||(t.push("20"),localStorage.setItem("ethio-stem-m4-completed",JSON.stringify(t)))},a=l=>{if(m)return;const t=new SpeechSynthesisUtterance(l);t.rate=.9,window.speechSynthesis.speak(t)},b=l=>{if(i==="correct"||s.includes(l))return;const t=[...s,l];d(t),a(`${t.length}`),t.length===5&&(h("correct"),a("High five! That's a 5-group!"),setTimeout(()=>{h(null),d([]),r<2?x(r+1):(p(!0),f())},2e3))};return o.useEffect(()=>{r===0?a("Let's find the 5-group! A 5-group is way to see 5 things quickly."):r===1?a("Click the berries to make a group of 5 in a line."):r===2&&a("Now click 5 berries in the scattered group.")},[r,m]),e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-sky-400 to-green-600 p-4 font-['Inter']",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white/20 backdrop-blur-md p-4 rounded-2xl border border-white/30 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n,{variant:"ghost",size:"icon",onClick:()=>c("/activities/module-4"),className:"text-white hover:bg-white/20 rounded-full",children:e.jsx(N,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white drop-shadow-md",children:"Lesson 20"}),e.jsx("p",{className:"text-white/80 font-medium tracking-wide",children:"The 5-Group Objects"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{}),e.jsx("div",{className:"bg-purple-500 text-white px-4 py-1 rounded-full font-bold shadow-md border-2 border-purple-300",children:"Power of 5!"})]})]}),e.jsxs(v,{className:"p-8 bg-white/90 backdrop-blur-sm shadow-2xl border-4 border-green-200 rounded-3xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-green-100",children:e.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${r/3*100}%`}})}),r===0?e.jsxs("div",{className:"text-center space-y-8 py-10",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx(y,{className:"w-32 h-32 text-purple-600 animate-pulse"}),e.jsx("div",{className:"absolute -top-4 -right-4 bg-purple-500 text-white w-12 h-12 rounded-full flex items-center justify-center font-black text-2xl shadow-lg border-2 border-white",children:"5"})]}),e.jsx("h2",{className:"text-4xl font-extrabold text-green-800 italic",children:"5 is a Special Number!"}),e.jsx("p",{className:"text-xl text-green-700 font-medium",children:"Let's find groups of 5 in the forest."}),e.jsx(n,{onClick:()=>x(1),className:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white text-2xl px-12 py-8 rounded-full shadow-xl hover:scale-110 active:scale-95 transition-all duration-300 border-b-4 border-purple-800 font-bold",children:"SHOW ME 5!"})]}):u?e.jsxs("div",{className:"text-center space-y-8 py-10 animate-in fade-in zoom-in duration-500",children:[e.jsx("div",{className:"text-8xl mb-6",children:"ðŸ–ï¸ðŸ«"}),e.jsx("h2",{className:"text-4xl font-extrabold text-green-800 italic",children:"High Five!"}),e.jsx("p",{className:"text-xl text-green-700 font-medium",children:"You found all the 5-groups!"}),e.jsx(n,{onClick:()=>c("/activities/module-4"),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white text-2xl px-12 py-8 rounded-full shadow-xl hover:scale-110 active:scale-95 transition-all duration-300 border-b-4 border-green-800 font-bold",children:"BACK TO FOREST"})]}):e.jsxs("div",{className:"space-y-8 relative",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-green-800 italic",children:r===1?"Make a 5-group in a LINE":"Find 5 berries in the MUD"}),e.jsxs("div",{className:`relative min-h-[300px] rounded-3xl border-4 border-dashed border-purple-200 p-8 flex items-center justify-center ${r===1?"bg-purple-50":"bg-amber-100/50"}`,children:[e.jsx("div",{className:`${r===1?"flex gap-6":"relative w-full h-64"}`,children:[...Array(r===1?5:8)].map((l,t)=>e.jsx("button",{disabled:i==="correct"||s.length>=5&&!s.includes(t),onClick:()=>b(t),className:`text-6xl transition-all duration-300 transform hover:scale-125 hover:rotate-6 active:scale-90 ${s.includes(t)?"scale-110 grayscale-0 brightness-110 shadow-2xl rounded-full bg-white/50":"grayscale-[0.5] brightness-90"} ${r===2?"absolute":"relative"}`,style:r===2?{top:`${[20,60,40,10,70,30,50,25][t]}%`,left:`${[15,25,45,60,75,85,40,70][t]}%`}:{},children:e.jsxs("div",{className:"relative",children:["ðŸ«",s.includes(t)&&e.jsx("span",{className:"absolute -top-4 -left-4 bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-md",children:s.indexOf(t)+1})]})},t))}),i&&e.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white/40 backdrop-blur-sm rounded-3xl animate-in fade-in duration-500",children:e.jsx("div",{className:"bg-white p-10 rounded-full shadow-2xl border-8 border-purple-400 rotate-12",children:e.jsx("span",{className:"text-9xl",children:"ðŸŒŸ"})})})]}),e.jsxs("div",{className:"flex justify-center flex-col items-center gap-4",children:[e.jsx("div",{className:"flex gap-2",children:[...Array(5)].map((l,t)=>e.jsx("div",{className:`w-8 h-8 rounded-full border-2 transition-all duration-500 ${t<s.length?"bg-purple-500 border-purple-700 scale-110 shadow-md":"bg-white border-purple-200"}`},t))}),e.jsxs("p",{className:"text-xl font-bold text-purple-800 italic",children:[s.length," of 5 berries collected"]})]})]})]})]})})};export{H as default};
