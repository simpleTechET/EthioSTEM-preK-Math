import{j as e}from"./ui-vendor-D4wbF8Bg.js";import{u as y,r as o}from"./react-vendor-X0Zsz5kA.js";import{B as i}from"./button-CyGigXcH.js";import{C as k}from"./card-BKS9G_hb.js";import{M as C}from"./MuteButton-Av5A2wkK.js";import{c as S,f as O}from"./index-WHP0WTu3.js";import{A as T}from"./arrow-left-BW0fSAUu.js";import"./volume-x-CPN5PYmk.js";import"./volume-2-IYuLHCtA.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=S("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),z=()=>{const c=y(),[t,d]=o.useState(0),[u,b]=o.useState(0),[p,f]=o.useState(0),[l,m]=o.useState(null),[g,x]=o.useState(null),[v,j]=o.useState(!1),{isMuted:h}=O(),r=[{start:3,icon:"ðŸ‚",name:"leaves",bgColor:"bg-amber-50",borderColor:"border-amber-200"},{start:5,icon:"ðŸ„",name:"mushrooms",bgColor:"bg-red-50",borderColor:"border-red-200"},{start:2,icon:"ðŸ¥¨",name:"treats",bgColor:"bg-orange-50",borderColor:"border-orange-200"}],w=()=>{const a=localStorage.getItem("ethio-stem-m4-completed"),s=a?JSON.parse(a):[];s.includes("19")||(s.push("19"),localStorage.setItem("ethio-stem-m4-completed",JSON.stringify(s)))},n=a=>{if(h)return;const s=new SpeechSynthesisUtterance(a);s.rate=.9,window.speechSynthesis.speak(s)},N=a=>{if(l!==null)return;m(a);const s=u-1;n(`Gone! Now we have ${s}.`),x("correct"),setTimeout(()=>{x(null),m(null),t<3?d(t+1):(j(!0),w())},2500)};return o.useEffect(()=>{if(t===0)n("Welcome! Today we will learn about 'One Less'. Removing one makes a smaller group!");else if(t>0&&t<=3){const a=r[t-1];b(a.start),f(a.start-1),n(`Here are ${a.start} ${a.name}. Take ONE AWAY and see how many are left!`)}},[t,h]),e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-sky-400 to-green-600 p-4 font-['Inter']",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white/20 backdrop-blur-md p-4 rounded-2xl border border-white/30 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>c("/activities/module-4"),className:"text-white hover:bg-white/20 rounded-full",children:e.jsx(T,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white drop-shadow-md",children:"Lesson 19"}),e.jsx("p",{className:"text-white/80 font-medium tracking-wide",children:'The "One Less" Game'})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(C,{}),e.jsx("div",{className:"bg-amber-500 text-white px-4 py-1 rounded-full font-bold shadow-md border-2 border-amber-300",children:"Minus One!"})]})]}),e.jsxs(k,{className:"p-8 bg-white/90 backdrop-blur-sm shadow-2xl border-4 border-green-200 rounded-3xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-green-100",children:e.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${t/4*100}%`}})}),t===0?e.jsxs("div",{className:"text-center space-y-8 py-10",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx(I,{className:"w-32 h-32 text-amber-600 animate-pulse"}),e.jsx("span",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-5xl font-black text-amber-700",children:"1"})]}),e.jsx("h2",{className:"text-4xl font-extrabold text-green-800 italic",children:"Finding One Less"}),e.jsx("p",{className:"text-xl text-green-700 font-medium",children:"Take one away and count what's left!"}),e.jsx(i,{onClick:()=>d(1),className:"bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white text-2xl px-12 py-8 rounded-full shadow-xl hover:scale-110 active:scale-95 transition-all duration-300 border-b-4 border-amber-800 font-bold",children:"START!"})]}):v?e.jsxs("div",{className:"text-center space-y-8 py-10 animate-in fade-in zoom-in duration-500",children:[e.jsx("div",{className:"text-7xl mb-6",children:"ðŸ“‰ðŸ‚"}),e.jsx("h2",{className:"text-4xl font-extrabold text-green-800 italic",children:"Subtraction Star!"}),e.jsx("p",{className:"text-xl text-green-700 font-medium",children:"You noticed the group got smaller!"}),e.jsx(i,{onClick:()=>c("/activities/module-4"),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white text-2xl px-12 py-8 rounded-full shadow-xl hover:scale-110 active:scale-95 transition-all duration-300 border-b-4 border-green-800 font-bold",children:"BACK TO FOREST"})]}):e.jsxs("div",{className:"space-y-8 relative",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-green-800 italic",children:["Take ONE ",r[t-1].icon," away!"]}),e.jsxs("p",{className:"text-xl font-bold text-red-600",children:[r[t-1].start," - 1 = ?"]})]}),e.jsxs("div",{className:`relative min-h-[300px] flex items-center justify-center rounded-3xl border-4 border-dashed ${r[t-1].borderColor} ${r[t-1].bgColor} p-8 transition-colors duration-500`,children:[e.jsx("div",{className:"flex flex-wrap gap-10 justify-center max-w-xl",children:[...Array(r[t-1].start)].map((a,s)=>e.jsx("button",{onClick:()=>N(s),disabled:l!==null,className:`text-8xl transition-all duration-500 transform hover:scale-110 hover:-rotate-6 active:scale-90 ${l===s?"scale-0 translate-y-20 rotate-45 opacity-0":"opacity-100"} ${l!==null&&l!==s?"scale-110 grayscale-[0.5]":""}`,children:e.jsxs("div",{className:"relative group",children:[r[t-1].icon,e.jsx("div",{className:"absolute -top-4 -left-4 text-sm bg-white/80 px-2 rounded-full font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:"Remove"})]})},s))}),g&&e.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-[1px] rounded-3xl flex items-center justify-center animate-in fade-in duration-300",children:e.jsx("div",{className:"bg-white p-12 rounded-full shadow-2xl border-8 border-amber-400 animate-bounce",children:e.jsx("span",{className:"text-9xl font-black text-amber-600",children:p})})})]}),e.jsx("div",{className:"flex flex-col items-center gap-4",children:e.jsx("p",{className:"font-bold text-amber-800 animate-pulse text-xl",children:l===null?"Tap any item to take it away!":"Well done!"})})]})]})]})})};export{z as default};
