import{j as e}from"./ui-vendor-D4wbF8Bg.js";import{u as N,r as a}from"./react-vendor-X0Zsz5kA.js";import{B as i}from"./button-CyGigXcH.js";import{C as k}from"./card-BKS9G_hb.js";import{M as y}from"./MuteButton-Av5A2wkK.js";import{c as C,f as S}from"./index-WHP0WTu3.js";import{A as I}from"./arrow-left-BW0fSAUu.js";import{F}from"./flower-2-BGoJjilg.js";import"./volume-x-CPN5PYmk.js";import"./volume-2-IYuLHCtA.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=C("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),D=()=>{const c=N(),[l,u]=a.useState(0),[s,p]=a.useState([]),[n,d]=a.useState(null),[f,b]=a.useState(!1),{isMuted:x}=S(),g=()=>{const r=localStorage.getItem("ethio-stem-m4-completed"),t=r?JSON.parse(r):[];t.includes("21")||(t.push("21"),localStorage.setItem("ethio-stem-m4-completed",JSON.stringify(t)))},o=r=>{if(x)return;const t=new SpeechSynthesisUtterance(r);t.rate=.9,window.speechSynthesis.speak(t)},w=r=>{if(n==="correct"||s.includes(r))return;const t=[...s,r];p(t),o(`${t.length}`),t.length===5&&(d("correct"),o("Wonderful! You found the circular 5-group!"),setTimeout(()=>{d(null),b(!0),g()},2e3))};return a.useEffect(()=>{l===0?o("Look at the flowers in a circle. Can you find a 5-group?"):l===1&&o("Count 5 flowers around the circle. Start anywhere!")},[l,x]),e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-sky-400 to-green-600 p-4 font-['Inter']",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white/20 backdrop-blur-md p-4 rounded-2xl border border-white/30 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>c("/activities/module-4"),className:"text-white hover:bg-white/20 rounded-full",children:e.jsx(I,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white drop-shadow-md",children:"Lesson 21"}),e.jsx("p",{className:"text-white/80 font-medium tracking-wide",children:"5-Group Dots (Circular)"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(y,{}),e.jsx("div",{className:"bg-pink-500 text-white px-4 py-1 rounded-full font-bold shadow-md border-2 border-pink-300",children:"Flower Circle!"})]})]}),e.jsxs(k,{className:"p-8 bg-white/90 backdrop-blur-sm shadow-2xl border-4 border-green-200 rounded-3xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-green-100",children:e.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${l/2*100}%`}})}),l===0?e.jsxs("div",{className:"text-center space-y-8 py-10",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx(L,{className:"w-32 h-32 text-pink-500 animate-[spin_5s_linear_infinite]"}),e.jsx(F,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-16 text-pink-600"})]}),e.jsx("h2",{className:"text-4xl font-extrabold text-green-800 italic",children:"Flowers in a Round"}),e.jsx("p",{className:"text-xl text-green-700 font-medium",children:"It's a circle of 5! Let's count them."}),e.jsx(i,{onClick:()=>u(1),className:"bg-gradient-to-r from-pink-500 to-rose-600 hover:from-pink-600 hover:to-rose-700 text-white text-2xl px-12 py-8 rounded-full shadow-xl hover:scale-110 active:scale-95 transition-all duration-300 border-b-4 border-pink-800 font-bold",children:"START COUNTING!"})]}):f?e.jsxs("div",{className:"text-center space-y-8 py-10 animate-in fade-in zoom-in duration-500",children:[e.jsx("div",{className:"text-8xl mb-6",children:"ðŸŒ¸â­•"}),e.jsx("h2",{className:"text-4xl font-extrabold text-green-800 italic",children:"Circular Success!"}),e.jsx("p",{className:"text-xl text-green-700 font-medium",children:"You found the 5-group circle!"}),e.jsx(i,{onClick:()=>c("/activities/module-4"),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white text-2xl px-12 py-8 rounded-full shadow-xl hover:scale-110 active:scale-95 transition-all duration-300 border-b-4 border-green-800 font-bold",children:"BACK TO FOREST"})]}):e.jsxs("div",{className:"space-y-8 relative",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-green-800 italic",children:"Count 5 flowers in the circle!"}),e.jsxs("div",{className:"relative h-[400px] w-[400px] mx-auto bg-pink-50 rounded-full border-8 border-white shadow-inner flex items-center justify-center",children:[[...Array(8)].map((r,t)=>{const m=t*360/8,h=140,j=Math.cos(m*Math.PI/180)*h,v=Math.sin(m*Math.PI/180)*h;return e.jsx("button",{disabled:n==="correct"||s.length>=5&&!s.includes(t),onClick:()=>w(t),className:`absolute p-4 text-6xl transition-all duration-300 transform hover:scale-125
                                                ${s.includes(t)?"scale-110 brightness-110 rounded-full bg-white shadow-lg":"opacity-40 grayscale blur-[1px]"}`,style:{transform:`translate(${j}px, ${v}px) ${s.includes(t)?"scale(1.1)":"scale(1)"}`},children:e.jsxs("div",{className:"relative",children:["ðŸŒ¸",s.includes(t)&&e.jsx("span",{className:"absolute -top-4 -left-4 bg-pink-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-md",children:s.indexOf(t)+1})]})},t)}),n&&e.jsx("div",{className:"absolute z-30 animate-in zoom-in spin-in duration-500",children:e.jsx("div",{className:"bg-white p-12 rounded-full shadow-2xl border-8 border-pink-400",children:e.jsx("span",{className:"text-8xl",children:"ðŸ‘‘"})})})]}),e.jsxs("div",{className:"flex justify-center flex-col items-center gap-4",children:[e.jsxs("p",{className:"text-xl font-bold text-pink-800 italic",children:[s.length," of 5 flowers found"]}),e.jsx("div",{className:"animate-pulse bg-pink-100 text-pink-700 px-6 py-2 rounded-full border border-pink-300",children:"Tap 5 flowers to complete the circle!"})]})]})]})]})})};export{D as default};
