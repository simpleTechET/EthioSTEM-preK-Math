import{j as s}from"./ui-vendor-C-ksHByf.js";import{r as c}from"./react-vendor-X0Zsz5kA.js";import{C as b,B as k}from"./card-DPJ-b8dD.js";import{s as I,u as N}from"./index-8Rh3NzOi.js";import{C as z}from"./circle-check-BQZ_qnBN.js";const Y=({items:x,onComplete:r})=>{const t=c.useMemo(()=>I(x),[x]),[l,i]=c.useState([]),[a,y]=c.useState([]),[d,v]=c.useState(0),[w,n]=c.useState(!1),M=e=>{if(a.includes(e.id)||l.includes(e.id)||w)return;const u=[...l,e.id];if(i(u),u.length===2){n(!0),v(d+1);const[p,j]=u,h=t.find(f=>f.id===p),m=t.find(f=>f.id===j);(h==null?void 0:h.matchId)===(m==null?void 0:m.matchId)?(y([...a,p,j]),N.success("Great match! ðŸŽ‰",{description:"You found two that are exactly the same!"}),setTimeout(()=>{i([]),n(!1),a.length+2===t.length&&(r==null||r())},800)):(N.error("Not quite! Try again ðŸ’ª",{description:"Look carefully - are they exactly the same?"}),setTimeout(()=>{i([]),n(!1)},1200))}},g=e=>l.includes(e),o=e=>a.includes(e),S=a.length===t.length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Attempts: ",s.jsx("span",{className:"font-semibold text-foreground",children:d})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Matched: ",s.jsx("span",{className:"font-semibold text-foreground",children:a.length/2})," / ",t.length/2]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map(e=>s.jsxs(b,{onClick:()=>M(e),className:`
              relative aspect-square cursor-pointer transition-all duration-300
              ${o(e.id)?"opacity-50 border-success border-4":""}
              ${g(e.id)?"border-primary border-4 scale-105":""}
              ${!o(e.id)&&!g(e.id)?"hover:scale-105 hover:shadow-playful":""}
            `,children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:s.jsx("img",{src:e.image,alt:"Match item",className:`object-contain transition-all ${e.size==="large"?"w-36 h-36":e.size==="small"?"w-20 h-20":"w-full h-full"}`})}),o(e.id)&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(z,{className:"w-8 h-8 text-success fill-success/20"})})]},e.id))}),S&&s.jsxs(b,{className:"p-8 text-center bg-gradient-to-br from-success/10 to-primary/10 border-2 border-success",children:[s.jsx("div",{className:"text-6xl mb-4",children:"ðŸŽ‰"}),s.jsx("h3",{className:"text-2xl font-bold mb-2 text-foreground",children:"Amazing Job!"}),s.jsxs("p",{className:"text-muted-foreground mb-4",children:["You matched all the objects! You completed it in ",d," attempts."]}),s.jsx(k,{size:"lg",onClick:r,className:"shadow-playful",children:"Continue Learning"})]})]})};export{Y as M};
