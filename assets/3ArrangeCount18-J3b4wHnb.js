import{j as e}from"./ui-vendor-D4wbF8Bg.js";import{r as x,L as I}from"./react-vendor-X0Zsz5kA.js";import{B as d}from"./button-DLBQZBG8.js";import{A as B}from"./arrow-left-DDX3aAlW.js";import{F}from"./flower-2-BrlShZQn.js";import{R as T}from"./rotate-ccw-Do_SU42X.js";import{C as O}from"./check-CCVPOWJZ.js";import{S as W}from"./sparkles-DzGOZsAh.js";import"./index-DhDsR_jZ.js";const a=[{name:"Sammy",config:"line",description:"Seeds in 1 long line",emoji:"ðŸ§’"},{name:"Maria",config:"5group",description:"5 seeds on top, 3 below",emoji:"ðŸ‘§"},{name:"Ms. Anan",config:"array",description:"2 equal rows of 4",emoji:"ðŸ‘©"},{name:"Mr. Quan",config:"circle",description:"Seeds in a circle",emoji:"ðŸ‘´"}],K=()=>{const[r,c]=x.useState("intro"),[p,j]=x.useState(a[0]),[X,$]=x.useState(Array.from({length:8},(t,s)=>({id:s,placed:!1}))),[h,m]=x.useState([]),[A,b]=x.useState(null),[w,f]=x.useState(null),[v,k]=x.useState(0),[N,u]=x.useState(0),i=t=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const s=new SpeechSynthesisUtterance(t);s.rate=.8,s.pitch=1.1,window.speechSynthesis.speak(s)}};x.useEffect(()=>{r==="intro"&&i("Welcome to the Community Garden! Maria and her neighbors want to plant flowers. They have 8 seeds but different ideas about how to arrange them. Let's explore!")},[r]);const S=t=>{const s=[];switch(t){case"line":for(let n=0;n<8;n++)s.push({x:80+n*50,y:150});break;case"5group":for(let n=0;n<5;n++)s.push({x:100+n*50,y:120});for(let n=0;n<3;n++)s.push({x:125+n*50,y:180});break;case"array":for(let n=0;n<2;n++)for(let g=0;g<4;g++)s.push({x:130+g*55,y:120+n*60});break;case"circle":const l=240,o=150,y=70;for(let n=0;n<8;n++){const g=n*2*Math.PI/8-Math.PI/2;s.push({x:l+y*Math.cos(g),y:o+y*Math.sin(g)})}break}return s},z=t=>{if(r!=="count"||h.includes(t))return;const s=h.length+1;m([...h,t]),i(s.toString()),s===8&&setTimeout(()=>{i("Great counting! Now find the numeral that shows how many seeds."),c("match")},800)},M=t=>{b(t),t===8?(f("correct"),i("Yes! 8 seeds! The number is still 8, no matter how we arrange them!"),setTimeout(()=>{if(f(null),v<2){const s=(N+1)%a.length;u(s),j(a[s]),k(v+1),m([]),b(null),i(`Now let's try ${a[s].name}'s idea: ${a[s].description}. Tap each seed to count!`),c("count")}else c("complete")},2e3)):(f("incorrect"),i("Hmm, let's count again. Tap each seed one by one."),setTimeout(()=>{f(null),b(null),m([]),c("count")},1500))},L=()=>{i("First, let's see each neighbor's idea for the garden. They all have 8 seeds!"),c("explore")},E=()=>{u(0),j(a[0]),i(`Let's start with ${a[0].name}'s idea: ${a[0].description}. Tap each seed to count!`),m([]),c("count")},R=()=>{const t=N+1;t<a.length?(u(t),i(`${a[t].name} wants ${a[t].description}.`)):(i("Now it's your turn! Let's count seeds in different arrangements."),c("arrange"))},C=()=>{c("intro"),j(a[0]),$(Array.from({length:8},(t,s)=>({id:s,placed:!1}))),m([]),b(null),f(null),k(0),u(0)},G=()=>S(p.config).map((s,l)=>{const o=h.includes(l),y=h.indexOf(l)+1;return e.jsxs("g",{onClick:()=>z(l),style:{cursor:r==="count"?"pointer":"default"},children:[e.jsx("ellipse",{cx:s.x,cy:s.y,rx:16,ry:10,fill:o?"#f59e0b":"#92400e",stroke:o?"#fbbf24":"#78350f",strokeWidth:2,className:`transition-all duration-200 ${r==="count"&&!o?"hover:scale-110":""}`,style:{transform:o?"scale(1.1)":"scale(1)",transformOrigin:`${s.x}px ${s.y}px`}}),e.jsx("ellipse",{cx:s.x-4,cy:s.y-3,rx:4,ry:2,fill:"rgba(255,255,255,0.3)"}),o&&e.jsx("text",{x:s.x,y:s.y-20,textAnchor:"middle",className:"text-lg font-bold fill-amber-600",style:{fontSize:"16px"},children:y})]},l)}),P=()=>{const t=a[N],s=S(t.config);return e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-white/80 rounded-full px-6 py-3 shadow-lg",children:[e.jsx("span",{className:"text-4xl",children:t.emoji}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-green-800",children:[t.name,"'s Idea"]}),e.jsx("div",{className:"text-sm text-green-600",children:t.description})]})]}),e.jsx("div",{className:"relative",children:e.jsxs("svg",{width:"480",height:"300",viewBox:"0 0 480 300",children:[e.jsx("rect",{x:"40",y:"60",width:"400",height:"180",rx:"20",fill:"#4ade80"}),e.jsx("rect",{x:"50",y:"70",width:"380",height:"160",rx:"15",fill:"#86efac"}),e.jsx("rect",{x:"60",y:"80",width:"360",height:"140",rx:"10",fill:"#78350f",opacity:"0.3"}),s.map((l,o)=>e.jsxs("g",{children:[e.jsx("ellipse",{cx:l.x,cy:l.y,rx:16,ry:10,fill:"#92400e",stroke:"#78350f",strokeWidth:2}),e.jsx("ellipse",{cx:l.x-4,cy:l.y-3,rx:4,ry:2,fill:"rgba(255,255,255,0.3)"})]},o))]})}),e.jsxs("div",{className:"text-2xl font-bold text-green-800",children:["8 seeds arranged ",t.config==="line"?"in a line":t.config==="5group"?"as 5 and 3":t.config==="array"?"in 2 rows of 4":"in a circle"]}),e.jsx(d,{onClick:R,size:"lg",className:"bg-green-500 hover:bg-green-600 text-white text-xl px-8",children:N<a.length-1?"See Next Idea â†’":"Start Counting! ðŸŒ±"})]})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sky-200 via-green-100 to-green-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(I,{to:"/",children:e.jsx(d,{variant:"ghost",size:"icon",className:"text-green-700",children:e.jsx(B,{className:"h-6 w-6"})})}),e.jsxs("h1",{className:"text-2xl font-bold text-green-800 flex items-center gap-2",children:[e.jsx(F,{className:"h-8 w-8 text-pink-500"}),"Community Garden"]}),e.jsx(d,{variant:"ghost",size:"icon",onClick:C,className:"text-green-700",children:e.jsx(T,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[r==="intro"&&e.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ¡ðŸŒ»"}),e.jsx("h2",{className:"text-3xl font-bold text-green-800",children:"Welcome to the Community Garden!"}),e.jsxs("p",{className:"text-xl text-green-700",children:["Maria and her neighbors want to plant flowers.",e.jsx("br",{}),"They have ",e.jsx("span",{className:"font-bold text-amber-600",children:"8 seeds"})," but different ideas!"]}),e.jsx("div",{className:"flex justify-center gap-4 flex-wrap",children:a.map(t=>e.jsxs("div",{className:"bg-white/70 rounded-xl p-4 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-1",children:t.emoji}),e.jsx("div",{className:"font-bold text-green-700",children:t.name})]},t.name))}),e.jsx(d,{onClick:L,size:"lg",className:"bg-green-500 hover:bg-green-600 text-white text-2xl px-10 py-6",children:"Explore the Ideas! ðŸŒ±"})]}),r==="explore"&&P(),r==="arrange"&&e.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-bold text-green-800",children:"Now It's Your Turn!"}),e.jsxs("p",{className:"text-lg text-green-700",children:["Count the seeds in each arrangement.",e.jsx("br",{}),"Remember: there are always 8 seeds!"]}),e.jsx("div",{className:"flex justify-center gap-4 flex-wrap",children:a.map((t,s)=>e.jsxs("button",{onClick:()=>{j(t),u(s),m([]),i(`${t.name}'s idea: ${t.description}. Tap each seed to count!`),c("count")},className:"bg-white/80 rounded-xl p-4 shadow-lg hover:scale-105 transition-transform border-2 border-transparent hover:border-green-400",children:[e.jsx("div",{className:"text-3xl mb-2",children:t.emoji}),e.jsx("div",{className:"font-bold text-green-700",children:t.name}),e.jsx("div",{className:"text-sm text-green-600",children:t.description})]},t.name))}),e.jsx(d,{onClick:E,size:"lg",className:"bg-amber-500 hover:bg-amber-600 text-white text-xl px-8",children:"Let's Count Seeds! ðŸŒ»"})]}),(r==="count"||r==="match")&&e.jsxs("div",{className:"space-y-4 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 bg-white/80 rounded-full px-6 py-3 shadow-lg",children:[e.jsx("span",{className:"text-3xl",children:p.emoji}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-green-800",children:[p.name,"'s Garden"]}),e.jsx("div",{className:"text-sm text-green-600",children:p.description})]})]}),e.jsx("div",{className:"bg-gradient-to-b from-green-300 to-green-400 rounded-3xl p-4 shadow-xl",children:e.jsxs("svg",{width:"100%",height:"300",viewBox:"0 0 480 300",children:[e.jsx("rect",{x:"40",y:"60",width:"400",height:"180",rx:"20",fill:"#4ade80"}),e.jsx("rect",{x:"50",y:"70",width:"380",height:"160",rx:"15",fill:"#86efac"}),e.jsx("rect",{x:"60",y:"80",width:"360",height:"140",rx:"10",fill:"#78350f",opacity:"0.3"}),G(),e.jsx("text",{x:"420",y:"260",className:"text-2xl",children:"ðŸŒ·"}),e.jsx("text",{x:"50",y:"260",className:"text-2xl",children:"ðŸŒ¸"})]})}),e.jsx("div",{className:"text-center text-xl font-bold text-green-800",children:r==="count"?`Tap each seed to count! (${h.length}/8)`:"How many seeds are there?"}),r==="match"&&e.jsx("div",{className:"flex justify-center gap-4 flex-wrap",children:[6,7,8,9].map(t=>e.jsx("button",{onClick:()=>M(t),disabled:w!==null,className:`w-20 h-20 text-4xl font-bold rounded-2xl transition-all
                      ${A===t?w==="correct"?"bg-green-500 text-white scale-110":w==="incorrect"?"bg-red-500 text-white animate-shake":"bg-amber-400 text-white":"bg-white hover:bg-amber-100 text-green-800 shadow-lg hover:scale-105"}`,children:t},t))}),w==="correct"&&e.jsxs("div",{className:"flex justify-center items-center gap-2 text-green-600 text-xl font-bold animate-bounce",children:[e.jsx(O,{className:"h-8 w-8"}),"Excellent! Still 8 seeds!"]}),e.jsxs("div",{className:"text-center text-sm text-green-600 bg-white/50 rounded-lg p-2",children:["Round ",v+1," of 3"]})]}),r==="complete"&&e.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[e.jsx("div",{className:"text-7xl animate-bounce",children:"ðŸŽ‰"}),e.jsx("h2",{className:"text-3xl font-bold text-green-800",children:"Amazing Gardener!"}),e.jsx("p",{className:"text-xl text-green-700",children:"You discovered something important:"}),e.jsx("div",{className:"bg-white/80 rounded-2xl p-6 shadow-xl max-w-md mx-auto",children:e.jsxs("div",{className:"text-lg text-green-800 font-medium",children:["No matter how we arrange the seeds â€”",e.jsx("br",{}),"in a ",e.jsx("strong",{children:"line"}),", an ",e.jsx("strong",{children:"array"}),", or a ",e.jsx("strong",{children:"circle"})," â€”",e.jsx("br",{}),"there are always ",e.jsx("span",{className:"text-4xl font-bold text-amber-600",children:"8"})," seeds!"]})}),e.jsx("div",{className:"flex justify-center gap-4",children:a.map(t=>e.jsx("div",{className:"text-4xl animate-pulse",children:t.emoji},t.name))}),e.jsxs("div",{className:"flex justify-center gap-4 pt-4",children:[e.jsxs(d,{onClick:C,size:"lg",className:"bg-green-500 hover:bg-green-600 text-white text-xl",children:[e.jsx(T,{className:"h-5 w-5 mr-2"}),"Plant Again"]}),e.jsx(I,{to:"/",children:e.jsx(d,{size:"lg",variant:"outline",className:"text-xl border-green-500 text-green-700",children:"Back to Lessons"})})]})]})]}),e.jsx("div",{className:"fixed bottom-4 left-4 right-4 max-w-md mx-auto",children:e.jsxs("div",{className:"bg-green-800/90 text-white text-center py-2 px-4 rounded-full text-sm",children:[e.jsx(W,{className:"inline h-4 w-4 mr-1"}),"Objective: Arrange and count 8 objects in varied configurations"]})}),e.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          20%, 60% { transform: translateX(-5px); }
          40%, 80% { transform: translateX(5px); }
        }
        .animate-shake {
          animation: shake 0.5s ease-in-out;
        }
      `})]})};export{K as default};
