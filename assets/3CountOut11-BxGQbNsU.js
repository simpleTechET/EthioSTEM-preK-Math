import{j as e}from"./ui-vendor-D4wbF8Bg.js";import{u as y,r as d}from"./react-vendor-X0Zsz5kA.js";import{B as l}from"./button-ChY7Ddpw.js";import{C as u}from"./card-9po2cWUF.js";import{A as j}from"./arrow-left-cToIK6Kg.js";import{F as p}from"./fish-BKR4wXra.js";import{W as N}from"./waves-CiBtbj8M.js";import"./index-Coax1zXM.js";const v=i=>{if("speechSynthesis"in window){const r=new SpeechSynthesisUtterance(i.toString());r.rate=.8,r.pitch=1.2,window.speechSynthesis.speak(r)}},z=()=>{const i=y(),[r,x]=d.useState(!1),[a,m]=d.useState("feed6"),[s,h]=d.useState(0),o=a==="feed6"?6:7,w=()=>{const n=localStorage.getItem("ethio-stem-m3-completed"),t=n?JSON.parse(n):[];t.includes("3-count-out-11")||(t.push("3-count-out-11"),localStorage.setItem("ethio-stem-m3-completed",JSON.stringify(t)))},b=n=>{if(n===s&&s<o){const t=s+1;h(t),v(t)}};d.useEffect(()=>{if(s===o&&s>0){const n=setTimeout(()=>{a==="feed6"?(m("feed7"),h(0)):(w(),m("complete"))},1500);return()=>clearTimeout(n)}},[s,o,a]);const g=()=>{x(!1),m("feed6"),h(0)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-blue-50 to-white p-4 font-fredoka overflow-x-hidden",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx(l,{variant:"outline",size:"icon",onClick:()=>i("/activities/module-3?last=3-count-out-11"),className:"rounded-full border-2 border-white bg-white/50 backdrop-blur-sm",children:e.jsx(j,{className:"w-5 h-5 text-cyan-600"})}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-cyan-600 bg-cyan-100 px-3 py-1 rounded-full uppercase tracking-widest font-nunito",children:"Lesson 11"}),e.jsx("h1",{className:"text-2xl font-bold text-cyan-900 uppercase",children:"Count Out!"})]})})]}),r?e.jsxs("div",{className:"space-y-6",children:[a!=="complete"&&e.jsx("div",{className:"flex justify-center gap-3 mb-4",children:["feed6","feed7"].map((n,t)=>e.jsx("div",{className:`h-3 rounded-full transition-all ${["feed6","feed7"].indexOf(a)>=t?"bg-cyan-500 w-12 shadow-sm":"bg-cyan-100 w-3"}`},n))}),a!=="complete"&&e.jsxs(u,{className:"bg-white/80 border-4 border-white shadow-2xl rounded-[3rem] p-10 text-center space-y-10 animate-in slide-in-from-bottom-8",children:[e.jsx("h3",{className:"text-4xl text-cyan-700",children:a==="feed6"?"Tap 6 fish for the dolphin! üê¨":"Tap 7 fish for the seal! ü¶≠"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-6 my-8 py-12 bg-cyan-100/30 rounded-[4rem] border-8 border-white shadow-inner relative overflow-hidden max-w-3xl mx-auto",children:[e.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:e.jsx(N,{className:"w-full h-full text-cyan-400"})}),Array.from({length:o}).map((n,t)=>{const c=t<s,f=t===s;return e.jsxs("div",{onClick:()=>b(t),className:`flex flex-col items-center relative z-10 cursor-pointer transition-all duration-300 ${c?"scale-100":f?"animate-pulse hover:scale-110":"opacity-40 grayscale"}`,children:[e.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center text-5xl shadow-lg border-4 border-white transform transition-transform ${c?t<5?"bg-blue-500 ring-4 ring-yellow-300":"bg-orange-500 ring-4 ring-yellow-300":"bg-white"} text-white`,children:e.jsx(p,{className:"w-12 h-12"})}),c&&e.jsx("span",{className:"text-3xl font-bold mt-3 text-cyan-900 font-fredoka drop-shadow-sm",children:t+1}),f&&!c&&e.jsx("span",{className:"text-xs font-bold mt-2 text-cyan-400 animate-pulse",children:"Tap!"})]},t)})]}),e.jsxs("div",{className:"bg-cyan-50 p-8 rounded-[2.5rem] border-4 border-white shadow-inner max-w-2xl mx-auto font-nunito",children:[e.jsx("p",{className:"text-4xl text-cyan-800 leading-relaxed font-bold",children:s===o?`You counted ${o}! üéâ`:`Fish counted: ${s} / ${o}`}),e.jsx("p",{className:"text-7xl font-fredoka text-cyan-600 drop-shadow-sm mt-4",children:s})]})]}),a==="complete"&&e.jsxs(u,{className:"bg-gradient-to-br from-cyan-600 via-blue-600 to-indigo-600 shadow-2xl rounded-[4rem] overflow-hidden p-16 text-center text-white space-y-10 animate-in zoom-in-95 duration-700",children:[e.jsx("div",{className:"text-9xl animate-bounce",children:"üê¨"}),e.jsx("h2",{className:"text-7xl drop-shadow-xl",children:"Aquarium Star!"}),e.jsxs("p",{className:"text-3xl font-nunito max-w-2xl mx-auto leading-relaxed",children:["You are a great helper!",e.jsx("br",{}),"You can count out exactly how many objects you need."]}),e.jsxs("div",{className:"flex gap-4 w-full pt-8",children:[e.jsx(l,{onClick:g,className:"h-24 flex-1 bg-white/10 hover:bg-white/20 text-white text-3xl rounded-[2rem] border-4 border-white/20",children:"Again! üîÑ"}),e.jsx(l,{onClick:()=>i("/activities/module-3?last=3-count-out-11"),className:"h-24 flex-1 bg-white text-cyan-600 hover:bg-cyan-50 text-3xl rounded-[2rem] shadow-2xl",children:"Yay! ‚ú®"})]})]}),a!=="complete"&&e.jsx(l,{onClick:()=>x(!1),variant:"ghost",className:"text-cyan-400 hover:text-cyan-600 w-full py-2 font-bold font-nunito",children:"‚Üê Back to Instructions"})]}):e.jsxs(u,{className:"border-4 border-white bg-white/60 backdrop-blur-md shadow-2xl rounded-[3rem] overflow-hidden text-center p-10 space-y-8 animate-in fade-in zoom-in duration-700 relative",children:[e.jsx("div",{className:"mx-auto w-24 h-24 bg-gradient-to-tr from-cyan-500 to-blue-500 rounded-3xl flex items-center justify-center mb-6 rotate-3 shadow-lg",children:e.jsx(p,{className:"w-12 h-12 text-white"})}),e.jsx("h2",{className:"text-5xl text-cyan-900 leading-tight",children:"Feed the Animals!"}),e.jsxs("p",{className:"text-2xl text-cyan-800 font-nunito leading-relaxed max-w-2xl mx-auto",children:["The dolphins and seals are hungry!",e.jsx("br",{}),"Tap each fish to count them out!"]}),e.jsx(l,{onClick:()=>x(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white text-3xl px-16 py-10 rounded-full shadow-2xl transition-all hover:scale-105 active:scale-95 border-b-8 border-cyan-800",children:"Play! üê¨"}),e.jsx("p",{className:"text-sm text-cyan-400 font-bold uppercase tracking-widest pt-4 font-nunito",children:"Topic B: Numeral Matching to 7"})]})]})})};export{z as default};
