import{j as e}from"./ui-vendor-D4wbF8Bg.js";import{u as N,r as l}from"./react-vendor-X0Zsz5kA.js";import{B as d}from"./button-CyGigXcH.js";import{C}from"./card-BKS9G_hb.js";import{M as y}from"./MuteButton-Av5A2wkK.js";import{f as k}from"./index-WHP0WTu3.js";import{A as S}from"./arrow-left-BW0fSAUu.js";import{P as b}from"./plus-X6Q6qqiI.js";import"./volume-x-CPN5PYmk.js";import"./volume-2-IYuLHCtA.js";const z=()=>{const c=N(),[t,m]=l.useState(0),[n,x]=l.useState(0),[o,p]=l.useState(0),[f,h]=l.useState(null),[g,w]=l.useState(!1),{isMuted:u}=k(),s=[{start:2,icon:"ðŸŽ",name:"apples",bgColor:"bg-red-50",borderColor:"border-red-200"},{start:4,icon:"ðŸ",name:"pears",bgColor:"bg-green-50",borderColor:"border-green-200"},{start:1,icon:"ðŸŠ",name:"oranges",bgColor:"bg-orange-50",borderColor:"border-orange-200"}],j=()=>{const r=localStorage.getItem("ethio-stem-m4-completed"),a=r?JSON.parse(r):[];a.includes("18")||(a.push("18"),localStorage.setItem("ethio-stem-m4-completed",JSON.stringify(a)))},i=r=>{if(u)return;const a=new SpeechSynthesisUtterance(r);a.rate=.9,window.speechSynthesis.speak(a)},v=()=>{if(n>=o)return;const r=n+1;x(r),i(`${r}`),r===o&&(h("correct"),i(`Correct! ${s[t-1].start} and one more makes ${o}!`),setTimeout(()=>{h(null),t<3?m(t+1):(w(!0),j())},2500))};return l.useEffect(()=>{if(t===0)i("Welcome! Today we will learn about 'One More'. Adding one more makes a bigger group!");else if(t>0&&t<=3){const r=s[t-1];x(r.start),p(r.start+1),i(`Here are ${r.start} ${r.name}. Add ONE MORE and see how many we have!`)}},[t,u]),e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-sky-400 to-green-600 p-4 font-['Inter']",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white/20 backdrop-blur-md p-4 rounded-2xl border border-white/30 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(d,{variant:"ghost",size:"icon",onClick:()=>c("/activities/module-4"),className:"text-white hover:bg-white/20 rounded-full",children:e.jsx(S,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white drop-shadow-md",children:"Lesson 18"}),e.jsx("p",{className:"text-white/80 font-medium tracking-wide",children:'The "One More" Game'})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(y,{}),e.jsx("div",{className:"bg-red-500 text-white px-4 py-1 rounded-full font-bold shadow-md border-2 border-red-300 animate-pulse",children:"Plus One!"})]})]}),e.jsxs(C,{className:"p-8 bg-white/90 backdrop-blur-sm shadow-2xl border-4 border-green-200 rounded-3xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-green-100",children:e.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${t/4*100}%`}})}),t===0?e.jsxs("div",{className:"text-center space-y-8 py-10",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx(b,{className:"w-32 h-32 text-red-500 animate-[spin_4s_linear_infinite]"}),e.jsx("span",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-5xl font-black text-red-600",children:"1"})]}),e.jsx("h2",{className:"text-4xl font-extrabold text-green-800 italic",children:"Finding One More"}),e.jsx("p",{className:"text-xl text-green-700 font-medium",children:"Add one and see the magic!"}),e.jsx(d,{onClick:()=>m(1),className:"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white text-2xl px-12 py-8 rounded-full shadow-xl hover:scale-110 active:scale-95 transition-all duration-300 border-b-4 border-red-800 font-bold",children:"START ADDING!"})]}):g?e.jsxs("div",{className:"text-center space-y-8 py-10 animate-in fade-in zoom-in duration-500",children:[e.jsx("div",{className:"text-7xl mb-6",children:"âž•ðŸŽðŸ"}),e.jsx("h2",{className:"text-4xl font-extrabold text-green-800 italic",children:"One More Wizard!"}),e.jsx("p",{className:"text-xl text-green-700 font-medium",children:"You know how to grow the group!"}),e.jsx(d,{onClick:()=>c("/activities/module-4"),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white text-2xl px-12 py-8 rounded-full shadow-xl hover:scale-110 active:scale-95 transition-all duration-300 border-b-4 border-green-800 font-bold",children:"BACK TO FOREST"})]}):e.jsxs("div",{className:"space-y-8 relative",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-green-800 italic",children:["Put ONE MORE ",s[t-1].icon," in the basket!"]}),e.jsxs("p",{className:"text-xl font-bold text-amber-600",children:[s[t-1].start," + 1 = ?"]})]}),e.jsxs("div",{className:`relative min-h-[300px] flex items-center justify-center rounded-3xl border-4 border-dashed ${s[t-1].borderColor} ${s[t-1].bgColor} p-8 transition-colors duration-500`,children:[e.jsx("div",{className:"flex flex-wrap gap-6 justify-center max-w-lg",children:[...Array(n)].map((r,a)=>e.jsx("div",{className:`text-7xl transition-all duration-500 transform ${a>=s[t-1].start?"animate-in zoom-in spin-in shadow-[0_0_20px_rgba(239,68,68,0.4)] rounded-full":""}`,children:s[t-1].icon},a))}),f&&e.jsx("div",{className:"absolute inset-0 bg-white/40 backdrop-blur-[2px] rounded-3xl flex items-center justify-center animate-in fade-in duration-300",children:e.jsx("div",{className:"bg-white p-12 rounded-full shadow-2xl border-8 border-green-400 animate-bounce",children:e.jsx("span",{className:"text-9xl font-black text-green-600",children:o})})})]}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("button",{onClick:v,disabled:n>=o,className:`group relative p-8 rounded-full shadow-2xl transition-all active:scale-95 disabled:opacity-0 disabled:scale-0 duration-500 ${s[t-1].bgColor} border-4 ${s[t-1].borderColor}`,children:[e.jsx(b,{className:"w-16 h-16 text-red-500 group-hover:rotate-90 transition-transform"}),e.jsx("div",{className:"absolute -top-4 -right-4 bg-red-500 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-xl border-2 border-white shadow-md",children:"1"})]}),e.jsx("p",{className:"font-bold text-green-700 animate-pulse text-xl",children:n<o?"Tap the PLUS to add one more!":""})]})]})]})]})})};export{z as default};
