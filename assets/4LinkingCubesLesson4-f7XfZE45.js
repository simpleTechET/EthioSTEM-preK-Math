import{j as e}from"./ui-vendor-D4wbF8Bg.js";import{u as N,r as d}from"./react-vendor-X0Zsz5kA.js";import{B as s}from"./button-CyGigXcH.js";import{C as c}from"./card-BKS9G_hb.js";import{M as v}from"./MuteButton-Av5A2wkK.js";import{f as y}from"./index-WHP0WTu3.js";import{A as C}from"./arrow-left-BW0fSAUu.js";import{L as S}from"./layers-ckv7r-uG.js";import"./volume-x-CPN5PYmk.js";import"./volume-2-IYuLHCtA.js";const O=()=>{const x=N(),[g,m]=d.useState(!1),[t,h]=d.useState(0),[a,n]=d.useState(null),[p,f]=d.useState(!1),{isMuted:w}=y(),j=()=>{const r=localStorage.getItem("ethio-stem-m4-completed"),o=r?JSON.parse(r):[];o.includes("lesson-4")||(o.push("lesson-4"),localStorage.setItem("ethio-stem-m4-completed",JSON.stringify(o)))},i=r=>{if(w)return;const o=new SpeechSynthesisUtterance(r);o.rate=.9,window.speechSynthesis.speak(o)},l=(r,o)=>{r===o?(n("correct"),i("Perfect! You measured correctly!"),setTimeout(()=>{n(null),t<2?h(b=>b+1):(f(!0),j(),i("You are a cube stick master!"))},1500)):(n("incorrect"),i("Oops! Count the cubes and look at the ends."))},u=(r,o)=>e.jsxs("div",{className:"flex flex-col-reverse items-center gap-0.5",children:[[...Array(r)].map((b,k)=>e.jsx("div",{className:`w-12 h-12 md:w-16 md:h-16 rounded-lg border-4 border-white shadow-sm transition-all duration-300 ${o} flex items-center justify-center`,children:e.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full"})},k)),e.jsx("span",{className:"mt-2 font-fredoka text-xl text-forest-700",children:r})]});return e.jsx("div",{className:"min-h-screen gradient-forest p-4 font-nunito overflow-x-hidden",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx(s,{variant:"outline",size:"icon",onClick:()=>x("/activities/module-4?last=lesson-4"),className:"rounded-full border-2 border-white bg-white/50 backdrop-blur-sm",children:e.jsx(C,{className:"w-5 h-5"})}),e.jsx(v,{}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-bold text-forest-700 bg-forest-100 px-3 py-1 rounded-full font-fredoka uppercase tracking-wider",children:"Lesson 4"}),e.jsx("h1",{className:"text-2xl font-bold text-foreground font-fredoka tracking-wide mt-1",children:"ğŸ§± Linking Cube Sticks"})]})]}),g?p?e.jsxs(c,{className:"bg-gradient-to-br from-rose-500 via-indigo-500 to-purple-600 shadow-2xl rounded-[4rem] p-16 text-center text-white space-y-10 animate-in zoom-in-95 duration-700",children:[e.jsx("div",{className:"text-9xl animate-bounce",children:"ğŸ°"}),e.jsx("h2",{className:"text-6xl font-fredoka drop-shadow-xl",children:"Master Builder!"}),e.jsxs("p",{className:"text-2xl font-nunito max-w-2xl mx-auto leading-relaxed",children:["You know exactly how to compare sticks by counting the cubes!",e.jsx("br",{}),e.jsx("span",{className:"text-rose-200 font-black text-4xl uppercase",children:"Brilliant!"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 w-full pt-8 justify-center",children:[e.jsx(s,{onClick:()=>{h(0),f(!1),i("Let's build again!")},className:"h-20 px-12 bg-white/10 hover:bg-white/20 text-white text-2xl font-fredoka rounded-[2rem] border-4 border-white/20",children:"Play Again! ğŸ”„"}),e.jsx(s,{onClick:()=>x("/activities/module-4"),className:"h-20 px-12 bg-white text-indigo-700 hover:bg-indigo-50 text-2xl font-fredoka rounded-[2rem] shadow-2xl",children:"Done! âœ¨"})]})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"flex justify-center gap-2",children:[0,1,2].map(r=>e.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ${t>=r?"bg-rose-500 w-16 shadow-inner":"bg-rose-100 w-4"}`},r))}),e.jsxs(c,{className:"bg-white/90 border-4 border-white shadow-2xl rounded-[3rem] p-8 md:p-12 text-center space-y-8 min-h-[600px] flex flex-col items-center justify-around relative overflow-hidden",children:[e.jsx("div",{className:"space-y-2 relative z-10 w-full mb-4",children:e.jsxs("h3",{className:"text-3xl md:text-5xl font-fredoka text-forest-900 tracking-tight",children:[t===0&&"Compare the Sticks!",t===1&&"Which stick is SHORTER?",t===2&&"Are these sticks the same?"]})}),e.jsxs("div",{className:"flex items-end justify-center gap-12 md:gap-24 relative z-10 py-6 min-h-[300px]",children:[u(t===1?3:4,t===2?"bg-rose-500":"bg-indigo-500"),u(t===0?3:t===1?5:4,t===2?"bg-rose-500 shadow-inner":"bg-emerald-500")]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full max-w-2xl",children:[t===0&&e.jsxs(e.Fragment,{children:[e.jsx(s,{onClick:()=>l("longer","longer"),className:"flex-1 bg-indigo-500 hover:bg-indigo-600 text-white py-8 text-2xl font-fredoka rounded-3xl border-b-8 border-indigo-800 shadow-xl transition-all active:scale-95",children:"The Blue Stick is Longer! ğŸ”µ"}),e.jsx(s,{onClick:()=>l("shorter","longer"),className:"flex-1 bg-emerald-500 hover:bg-emerald-600 text-white py-8 text-2xl font-fredoka rounded-3xl border-b-8 border-emerald-800 shadow-xl transition-all active:scale-95",children:"The Green Stick is Longer! ğŸŸ¢"})]}),t===1&&e.jsxs(e.Fragment,{children:[e.jsx(s,{onClick:()=>l("shorter","shorter"),className:"flex-1 bg-indigo-500 hover:bg-indigo-600 text-white py-8 text-2xl font-fredoka rounded-3xl border-b-8 border-indigo-800 shadow-xl transition-all active:scale-95",children:"Blue is Shorter! ğŸ”µ"}),e.jsx(s,{onClick:()=>l("longer","shorter"),className:"flex-1 bg-emerald-500 hover:bg-emerald-600 text-white py-8 text-2xl font-fredoka rounded-3xl border-b-8 border-emerald-800 shadow-xl transition-all active:scale-95",children:"Green is Shorter! ğŸŸ¢"})]}),t===2&&e.jsxs(e.Fragment,{children:[e.jsx(s,{onClick:()=>l("same","same"),className:"flex-1 bg-rose-500 hover:bg-rose-600 text-white py-10 text-3xl font-fredoka rounded-3xl border-b-8 border-rose-800 shadow-2xl transition-all active:scale-95",children:"They are the SAME! ğŸŸ°"}),e.jsx(s,{onClick:()=>l("shorter","same"),className:"flex-1 bg-white/50 text-muted-foreground py-10 text-2xl font-fredoka rounded-3xl border-2 border-forest-100 transition-all active:scale-95",children:"Different! âŒ"})]})]})]}),a&&e.jsx("div",{className:"fixed top-24 right-6 z-[100] animate-in slide-in-from-right-4 fade-in duration-300",children:e.jsxs(c,{className:`flex items-center gap-4 px-8 py-6 shadow-2xl rounded-3xl border-4 ${a==="correct"?"bg-rose-50 border-rose-400":"bg-red-50 border-red-400"}`,children:[e.jsx("span",{className:"text-5xl",children:a==="correct"?"ğŸ§±":"ğŸ§"}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:`text-3xl font-fredoka font-bold ${a==="correct"?"text-rose-700":"text-red-700"}`,children:a==="correct"?"Magnificent!":"Count Again!"}),e.jsx("span",{className:"text-lg font-nunito text-muted-foreground font-medium",children:a==="correct"?"You are a measuring pro!":"Which stick has more cubes?"})]}),a==="incorrect"&&e.jsx(s,{onClick:()=>n(null),className:"ml-4 px-6 py-4 text-xl font-fredoka rounded-2xl border-b-6 bg-red-500 hover:bg-red-600 border-red-700 text-white",children:"Try Again"})]})}),e.jsx(s,{onClick:()=>m(!1),variant:"ghost",className:"text-forest-400 hover:text-forest-600 w-full py-4 text-lg font-bold font-nunito",children:"â† Instructions"})]}):e.jsxs(c,{className:"border-4 border-white bg-white/60 backdrop-blur-md shadow-2xl rounded-[3rem] text-center p-10 space-y-8 animate-in fade-in zoom-in duration-700",children:[e.jsx("div",{className:"mx-auto w-24 h-24 bg-gradient-to-tr from-rose-400 to-indigo-600 rounded-3xl flex items-center justify-center rotate-12 shadow-lg border-4 border-white/50",children:e.jsx(S,{className:"w-12 h-12 text-white"})}),e.jsx("h2",{className:"text-4xl font-fredoka text-forest-900 uppercase",children:"Cube Builder!"}),e.jsxs("p",{className:"text-2xl text-forest-800 font-nunito leading-relaxed max-w-xl mx-auto",children:["We can build ",e.jsx("span",{className:"font-bold text-rose-600",children:"sticks"})," of cubes to measure things!",e.jsx("br",{}),"A stick with more cubes is ",e.jsx("span",{className:"italic",children:"longer"}),"."]}),e.jsx(s,{onClick:()=>{m(!0),i("Ready to build and compare cube sticks? Let's go!")},className:"bg-rose-500 hover:bg-rose-600 text-white text-3xl px-16 py-10 rounded-full shadow-2xl font-fredoka border-b-8 border-rose-700 transition-all hover:scale-105 active:scale-95 w-full md:w-auto uppercase tracking-tighter",children:"Start Building! ğŸ—ï¸"})]})]})})};export{O as default};
