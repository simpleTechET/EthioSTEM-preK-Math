import{j as e}from"./ui-vendor-D4wbF8Bg.js";import{u as W,r}from"./react-vendor-X0Zsz5kA.js";import{B as h}from"./button-DLBQZBG8.js";import{A as D}from"./arrow-left-DDX3aAlW.js";import{R as H}from"./rotate-ccw-Do_SU42X.js";import{C as A}from"./circle-CJsRzIBa.js";import{A as M}from"./arrow-right-DwqtpjRg.js";import{G as T}from"./grid-3x3-DWJgERbL.js";import{F as J}from"./fish-CyqdepcM.js";import"./index-DhDsR_jZ.js";const ae=()=>{const y=W(),[o,x]=r.useState("intro"),[l,F]=r.useState(9),[i,j]=r.useState("circle"),[d,m]=r.useState([]),[v,p]=r.useState(!1),[P,f]=r.useState(null),[$,g]=r.useState(!1),[w,k]=r.useState(0),[N,u]=r.useState(null),L=Array.from({length:l},(t,s)=>({id:s,color:s<5?"text-orange-400":"text-yellow-400"})),n=t=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const s=new SpeechSynthesisUtterance(t);s.rate=.8,s.pitch=1.1,window.speechSynthesis.speak(s)}};r.useEffect(()=>{o==="intro"&&n("Welcome back to the ocean! Today we are counting 9 fish swimming in different ways. Remember, the number of fish stays the same even when they move!")},[o]);const R=t=>{if(o!=="counting")return;if(i==="circle"&&N===null){u(t),n("Good! You marked where to start counting. Now count each fish just once!");return}if(d.includes(t))return;const s=[...d,t];m(s),n(s.length.toString()),s.length===l&&setTimeout(()=>{n(`Great job! You counted ${l} fish!`),g(!0)},500)},B=()=>{p(!0),n("Oh no! A shark is coming! Swim away fish!"),setTimeout(()=>{const t=["circle","line","array"],s=t.indexOf(i),a=t[(s+1)%3];j(a),m([]),u(null),p(!1),g(!1),n(`Phew, safe! Now the fish are swimming in a ${a}! Count them again to make sure all 9 are here!`)},2e3)},Y=t=>{f(t),t===l?(n(`Yes! There are ${l} fish!`),setTimeout(()=>{w<2?(k(s=>s+1),j(w===0?"line":"array"),m([]),u(null),f(null),g(!1)):(x("complete"),n("Wonderful! You are an expert at counting to 9! The number stays 9 no matter how they swim!"))},1500)):(n("Hmm, try counting again!"),f(null))},z=()=>{x("counting"),n(i==="circle"?"Tap one fish to mark where you'll start counting.Then follow the circle!":"Tap each fish to count them!")},O=t=>Array.from({length:t},(s,a)=>{const c=(a*360/t-90)*(Math.PI/180),b=120;return{x:160+b*Math.cos(c),y:140+b*Math.sin(c)}}),_=t=>Array.from({length:t},(s,a)=>({x:40+a*35,y:140})),E=t=>Array.from({length:t},(a,c)=>({x:60+c%5*60,y:100+Math.floor(c/5)*80})),G=(()=>{switch(i){case"circle":return O(l);case"line":return _(l);case"array":return E(l)}})(),C=()=>G.map((t,s)=>{const a=L[s],c=d.includes(a.id),b=N===a.id;return e.jsxs("g",{transform:`translate(${t.x}, ${t.y})`,onClick:()=>R(a.id),className:"cursor-pointer",children:[b&&e.jsx("circle",{r:"28",fill:"none",stroke:"#22c55e",strokeWidth:"3",strokeDasharray:"5,3",className:"animate-pulse"}),e.jsx("text",{fontSize:"36",textAnchor:"middle",dominantBaseline:"central",className:`transition-all duration-300 ${c?"opacity-50":"hover:scale-110"}`,style:{transformOrigin:"center",transform:c?"scale(0.8)":"scale(1)"},children:"ðŸŸ"}),c&&e.jsx("text",{y:"-20",fontSize:"16",textAnchor:"middle",fill:"#22c55e",fontWeight:"bold",children:d.indexOf(a.id)+1})]},a.id)}),S=()=>{x("intro"),F(9),j("circle"),m([]),p(!1),f(null),g(!1),k(0),u(null)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-cyan-400 via-blue-500 to-blue-700 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(h,{variant:"ghost",onClick:()=>y("/"),className:"text-white hover:bg-white/20",children:[e.jsx(D,{className:"h-6 w-6 mr-2"}),"Back"]}),e.jsx("h1",{className:"text-2xl font-bold text-white text-center",children:"Lesson 28: Arrange and Count 9"}),e.jsx(h,{variant:"ghost",onClick:S,className:"text-white hover:bg-white/20",children:e.jsx(H,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[o==="intro"&&e.jsxs("div",{className:"bg-white/90 rounded-3xl p-8 text-center shadow-xl",children:[e.jsx("h2",{className:"text-3xl font-bold text-blue-600 mb-6",children:"ðŸ  Counting 9 Fish! ðŸ "}),e.jsx("p",{className:"text-xl text-gray-700 mb-6",children:"Look at all these fish! Can you count them when they swim in a circle?"}),e.jsxs("p",{className:"text-lg text-gray-600 mb-8",children:["Let's see if the number stays ",e.jsx("span",{className:"font-bold text-blue-600",children:"9"})," when they move around!"]}),e.jsxs("div",{className:"flex justify-center gap-8 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mb-2",children:e.jsx(A,{className:"h-10 w-10 text-blue-500"})}),e.jsx("span",{className:"text-sm text-gray-600",children:"Circle"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mb-2",children:e.jsx(M,{className:"h-10 w-10 text-blue-500"})}),e.jsx("span",{className:"text-sm text-gray-600",children:"Line"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mb-2",children:e.jsx(T,{className:"h-10 w-10 text-blue-500"})}),e.jsx("span",{className:"text-sm text-gray-600",children:"Array"})]})]}),e.jsxs(h,{onClick:z,className:"bg-blue-500 hover:bg-blue-600 text-white text-xl px-8 py-6 rounded-full",children:[e.jsx(J,{className:"h-6 w-6 mr-2"}),"Let's Count!"]})]}),(o==="counting"||o==="rearrange")&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-b from-blue-300 to-blue-600 rounded-3xl p-4 shadow-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(12)].map((t,s)=>e.jsx("div",{className:"absolute rounded-full bg-white/20 animate-pulse",style:{width:Math.random()*20+10,height:Math.random()*20+10,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`}},s))}),e.jsx("div",{className:"absolute bottom-0 left-4 text-4xl",children:"ðŸŒ¿"}),e.jsx("div",{className:"absolute bottom-0 right-8 text-4xl",children:"ðŸŒ¿"}),e.jsx("div",{className:"absolute bottom-0 left-1/4 text-3xl",children:"ðŸª¸"}),e.jsx("div",{className:"absolute bottom-0 right-1/4 text-3xl",children:"ðŸª¸"}),e.jsxs("div",{className:"absolute top-4 left-4 bg-white/80 rounded-full px-4 py-2 flex items-center gap-2",children:[i==="circle"&&e.jsx(A,{className:"h-5 w-5 text-blue-500"}),i==="line"&&e.jsx(M,{className:"h-5 w-5 text-blue-500"}),i==="array"&&e.jsx(T,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"font-bold text-blue-600 capitalize",children:i})]}),v&&e.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 animate-bounce text-6xl z-10",children:"ðŸ¦ˆ"}),e.jsx("svg",{viewBox:"0 0 340 300",className:"w-full h-72 md:h-96",children:C()})]}),e.jsx("div",{className:"bg-white/90 rounded-2xl p-4 text-center",children:i==="circle"&&N===null?e.jsx("p",{className:"text-lg text-gray-700",children:"ðŸ‘† Tap one fish to mark where you'll start counting!"}):d.length<l?e.jsxs("p",{className:"text-lg text-gray-700",children:["ðŸŸ Tap each fish to count! (",d.length," of ",l,")"]}):e.jsxs("p",{className:"text-lg text-green-600 font-bold",children:["âœ¨ You counted ",l," fish! The number stays the same!"]})}),e.jsx("div",{className:"flex justify-center gap-4",children:$&&!v&&e.jsxs(e.Fragment,{children:[e.jsx(h,{onClick:B,className:"bg-gray-500 hover:bg-gray-600 text-white text-lg px-6 py-4 rounded-full",children:"ðŸ¦ˆ Here comes a shark!"}),e.jsx(h,{onClick:()=>x("practice"),className:"bg-green-500 hover:bg-green-600 text-white text-lg px-6 py-4 rounded-full",children:"Match the numeral! âœ¨"})]})})]}),o==="practice"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-b from-blue-300 to-blue-600 rounded-3xl p-4 shadow-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-4 left-4 bg-white/80 rounded-full px-4 py-2",children:e.jsxs("span",{className:"font-bold text-blue-600",children:["Round ",w+1," of 3"]})}),e.jsx("svg",{viewBox:"0 0 340 300",className:"w-full h-64 md:h-80",children:C()})]}),e.jsxs("div",{className:"bg-white/90 rounded-2xl p-6 text-center",children:[e.jsx("p",{className:"text-xl text-gray-700 mb-6",children:"How many fish are there? Tap the correct number!"}),e.jsx("div",{className:"flex justify-center gap-6",children:[8,9,10].map(t=>e.jsx("button",{onClick:()=>Y(t),className:`w-20 h-20 text-4xl font-bold rounded-2xl transition-all duration-300 ${P===t?t===l?"bg-green-500 text-white scale-110":"bg-red-400 text-white shake":"bg-blue-100 text-blue-600 hover:bg-blue-200 hover:scale-105"}`,children:t},t))})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(h,{variant:"outline",onClick:()=>{m([]),u(null),x("counting")},className:"text-blue-600 border-blue-400",children:"Count the fish again"})})]}),o==="complete"&&e.jsxs("div",{className:"bg-white/90 rounded-3xl p-8 text-center shadow-xl",children:[e.jsx("div",{className:"text-6xl mb-6",children:"ðŸŽ‰ðŸ ðŸŒŸ"}),e.jsx("h2",{className:"text-3xl font-bold text-blue-600 mb-4",children:"Amazing Job!"}),e.jsx("p",{className:"text-xl text-gray-700 mb-6",children:"You are a master at counting to 9!"}),e.jsx("div",{className:"bg-blue-50 rounded-2xl p-6 mb-8",children:e.jsx("p",{className:"text-lg text-blue-700 font-bold",children:"ðŸŸ Even when the shark scares them, there are still 9 fish!"})}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(h,{onClick:S,className:"bg-blue-500 hover:bg-blue-600 text-white text-lg px-6 py-4 rounded-full",children:"Play Again! ðŸ "}),e.jsx(h,{onClick:()=>y("/"),variant:"outline",className:"text-blue-600 border-blue-400 text-lg px-6 py-4 rounded-full",children:"Back to Lessons"})]})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto mt-6",children:e.jsx("div",{className:"bg-white/20 backdrop-blur rounded-xl p-3 text-center",children:e.jsxs("p",{className:"text-white text-sm",children:[e.jsx("strong",{children:"Objective:"})," Arrange and count 9 objects in varied configurations"]})})})]})};export{ae as default};
