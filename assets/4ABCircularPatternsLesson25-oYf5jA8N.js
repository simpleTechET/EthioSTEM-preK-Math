import{j as e}from"./ui-vendor-D4wbF8Bg.js";import{u as S,r as l}from"./react-vendor-X0Zsz5kA.js";import{B as d}from"./button-CyGigXcH.js";import{C as k}from"./card-BKS9G_hb.js";import{M as C}from"./MuteButton-Av5A2wkK.js";import{f as A}from"./index-WHP0WTu3.js";import{A as T}from"./arrow-left-BW0fSAUu.js";import{R as P}from"./rotate-cw-DMQ4o4bi.js";import{T as B}from"./trees-BacsEwR1.js";import"./volume-x-CPN5PYmk.js";import"./volume-2-IYuLHCtA.js";const K=()=>{const x=S(),[n,p]=l.useState(0),[r,u]=l.useState([]),[c,i]=l.useState(null),[f,b]=l.useState(!1),{isMuted:m}=A(),g=["ðŸŽ","ðŸ","ðŸŽ","ðŸ","ðŸŽ","ðŸ"],w=["ðŸŽ","ðŸ"],j=()=>{const s=localStorage.getItem("ethio-stem-m4-completed"),t=s?JSON.parse(s):[];t.includes("25")||(t.push("25"),localStorage.setItem("ethio-stem-m4-completed",JSON.stringify(t)))},a=s=>{if(m)return;const t=new SpeechSynthesisUtterance(s);t.rate=.9,window.speechSynthesis.speak(t)},v=s=>{if(r.length>=6)return;const t=g[r.length];if(s===t){const o=[...r,s];u(o),a(s==="ðŸŽ"?"Apple":"Pear"),o.length===6&&(i("correct"),a("Wonderful! A perfect pattern around the tree!"),setTimeout(()=>{i(null),b(!0),j()},2500))}else i("incorrect"),a("Not that one. Follow the AB pattern!"),setTimeout(()=>i(null),1e3)};return l.useEffect(()=>{n===0?a("Now let's make a pattern in a circle! Follow the arrow around the tree."):n===1&&a("Place the apples and pears to make an AB pattern.")},[n,m]),e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-sky-400 to-green-600 p-4 font-['Inter']",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white/20 backdrop-blur-md p-4 rounded-2xl border border-white/30 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(d,{variant:"ghost",size:"icon",onClick:()=>x("/activities/module-4"),className:"text-white hover:bg-white/20 rounded-full",children:e.jsx(T,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white drop-shadow-md",children:"Lesson 25"}),e.jsx("p",{className:"text-white/80 font-medium tracking-wide",children:"AB Circular Patterns"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(C,{}),e.jsx("div",{className:"bg-rose-500 text-white px-4 py-1 rounded-full font-bold shadow-md border-2 border-rose-300",children:"Tree Circle!"})]})]}),e.jsxs(k,{className:"p-8 bg-white/90 backdrop-blur-sm shadow-2xl border-4 border-green-200 rounded-3xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-green-100",children:e.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${r.length/6*100}%`}})}),n===0?e.jsxs("div",{className:"text-center space-y-8 py-10",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx(P,{className:"w-32 h-32 text-rose-500 animate-[spin_5s_linear_infinite]"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-5xl",children:"ðŸŽ"})]}),e.jsx("h2",{className:"text-4xl font-extrabold text-green-800 italic",children:"The Pattern Loop"}),e.jsx("p",{className:"text-xl text-green-700 font-medium",children:"Patterns can go around and around! Let's fill the circle."}),e.jsx(d,{onClick:()=>p(1),className:"bg-gradient-to-r from-rose-500 to-pink-600 hover:from-rose-600 hover:to-pink-700 text-white text-2xl px-12 py-8 rounded-full shadow-xl hover:scale-110 active:scale-95 transition-all duration-300 border-b-4 border-rose-800 font-bold",children:"START CIRCLE!"})]}):f?e.jsxs("div",{className:"text-center space-y-8 py-10 animate-in fade-in zoom-in duration-500",children:[e.jsx("div",{className:"text-8xl mb-6",children:"ðŸŽðŸâ­•"}),e.jsx("h2",{className:"text-4xl font-extrabold text-green-800 italic",children:"Tree-mendous!"}),e.jsx("p",{className:"text-xl text-green-700 font-medium",children:"You completed the circular pattern!"}),e.jsx(d,{onClick:()=>x("/activities/module-4"),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white text-2xl px-12 py-8 rounded-full shadow-xl hover:scale-110 active:scale-95 transition-all duration-300 border-b-4 border-green-800 font-bold",children:"BACK TO FOREST"})]}):e.jsxs("div",{className:"space-y-8 py-4 relative",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-green-800 italic",children:"Fill the circle: Apple, Pear, Apple, Pear..."}),e.jsxs("div",{className:"relative h-[450px] w-[450px] mx-auto bg-green-50 rounded-full border-8 border-white shadow-2xl flex items-center justify-center",children:[e.jsx(B,{className:"w-32 h-32 text-green-600 opacity-20"}),[...Array(6)].map((s,t)=>{const o=t*360/6-90,h=150,N=Math.cos(o*Math.PI/180)*h,y=Math.sin(o*Math.PI/180)*h;return e.jsxs("div",{className:"absolute w-24 h-24 flex items-center justify-center",style:{transform:`translate(${N}px, ${y}px)`},children:[r[t]?e.jsx("div",{className:"text-7xl animate-in zoom-in spin-in duration-500 drop-shadow-lg",children:r[t]}):e.jsx("div",{className:`w-16 h-16 rounded-full border-4 border-dashed animate-pulse transition-colors ${t===r.length?"border-rose-400 bg-rose-50":"border-gray-200"}`}),e.jsx("span",{className:"absolute -top-2 -left-2 bg-white/80 w-6 h-6 rounded-full text-[10px] font-bold flex items-center justify-center border shadow-sm",children:t+1})]},t)}),c&&e.jsx("div",{className:"absolute z-50 animate-in zoom-in duration-300",children:e.jsx("div",{className:`p-10 rounded-full shadow-2xl border-8 ${c==="correct"?"bg-green-100 border-green-500":"bg-red-100 border-red-500"}`,children:e.jsx("span",{className:"text-8xl",children:c==="correct"?"ðŸŒŸ":"âŒ"})})})]}),e.jsx("div",{className:"flex justify-center gap-12 pt-4",children:w.map((s,t)=>e.jsx("button",{onClick:()=>v(s),className:"p-8 bg-white border-b-8 border-rose-200 rounded-3xl shadow-xl hover:scale-110 active:scale-95 transition-all duration-300 text-7xl hover:border-rose-400",children:s},t))})]})]})]})})};export{K as default};
