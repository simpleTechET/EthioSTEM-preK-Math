import{j as e}from"./ui-vendor-D4wbF8Bg.js";import{u as y,r}from"./react-vendor-X0Zsz5kA.js";import{B as h}from"./button-CyGigXcH.js";import{C as f}from"./card-BKS9G_hb.js";import{f as k}from"./index-WHP0WTu3.js";import{m as c,A as S}from"./proxy-DzK4exAG.js";import{T as C}from"./trophy-BVkBYKrX.js";import{A as T}from"./arrow-left-BW0fSAUu.js";import{S as A}from"./star-D7T7ShWC.js";import{C as I}from"./circle-check-BmDTQtR1.js";import{T as x}from"./trees-BacsEwR1.js";const $=()=>{const d=y(),{isMuted:u}=k(),[l,b]=r.useState(0),[p,g]=r.useState(0),[i,n]=r.useState({show:!1,correct:!1}),[j,v]=r.useState(!1),m=[{id:1,title:"Length Challenge",text:"Which tree is TALLER?",options:[{id:"tall",label:"Tall Tree",img:"üå≤",size:"scale-150"},{id:"short",label:"Short Tree",img:"üå≤",size:"scale-75"}],correctId:"tall",voice:"Let's start our Grand Review! Point to the tree that is taller."},{id:2,title:"Weight Challenge",text:"Which one is HEAVIER?",options:[{id:"rock",label:"Big Rock",img:"ü™®"},{id:"leaf",label:"Small Leaf",img:"üçÉ"}],correctId:"rock",voice:"Great! Now, which one feels heavier: the big rock or the small leaf?"},{id:3,title:"Volume Challenge",text:"Which jar has MORE honey?",options:[{id:"more",label:"Full Jar",img:"üçØ",level:"h-full"},{id:"less",label:"Empty Jar",img:"üçØ",level:"h-1/4"}],correctId:"more",voice:"The bears need help! Which jar has more honey for them?"},{id:4,title:"Pattern Challenge",text:"What comes next in our pattern?",pattern:["üçé","üçê","üçé","üçê"],options:[{id:"apple",label:"Apple",img:"üçé"},{id:"pear",label:"Pear",img:"üçê"}],correctId:"apple",voice:"Look at the fruit pattern: Apple, Pear, Apple, Pear. What comes next?"},{id:5,title:"Position Challenge",text:"Which animal is LAST in line?",animals:["ü¶ä","üê∞","üêª","ü¶Ü"],options:[{id:"fox",label:"Fox",img:"ü¶ä"},{id:"duck",label:"Duck",img:"ü¶Ü"}],correctId:"duck",voice:"The animals are waiting! Who is last in the line?"}],a=m[l],o=t=>{if(!u&&"speechSynthesis"in window){window.speechSynthesis.cancel();const s=new SpeechSynthesisUtterance(t);s.rate=.9,window.speechSynthesis.speak(s)}};r.useEffect(()=>{o(a.voice)},[l]);const w=t=>{if(i.show)return;const s=t===a.correctId;n({show:!0,correct:s}),s?(g(p+1),o("That's right! You're a forest master!"),setTimeout(()=>{l<m.length-1?(b(l+1),n({show:!1,correct:!1})):N()},2e3)):(o("Not quite. Let's try to look closely again."),setTimeout(()=>n({show:!1,correct:!1}),2e3))},N=()=>{v(!0),o("Amazing job! You've completed your Forest Adventure! You are ready for the next module.");const t=JSON.parse(localStorage.getItem("ethio-stem-m4-completed")||"[]");t.includes(29)||localStorage.setItem("ethio-stem-m4-completed",JSON.stringify([...t,29]))};return j?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-emerald-50 to-emerald-100 flex items-center justify-center p-4",children:e.jsx(c.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},children:e.jsxs(f,{className:"max-w-md w-full p-8 text-center rounded-[3rem] shadow-2xl border-4 border-emerald-500",children:[e.jsx(C,{className:"w-24 h-24 text-yellow-500 mx-auto mb-6 animate-bounce"}),e.jsx("h1",{className:"text-4xl font-fredoka text-emerald-800 mb-4",children:"Forest Master!"}),e.jsx("p",{className:"text-xl font-nunito text-slate-600 mb-8",children:"You've finished all 29 lessons! You've learned how to compare things and make patterns."}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(h,{onClick:()=>d("/activities/module-4"),className:"bg-emerald-600 hover:bg-emerald-700 h-16 text-xl rounded-2xl",children:"Go to Forest Road"}),e.jsx(h,{variant:"outline",onClick:()=>d("/"),className:"h-16 text-xl rounded-2xl",children:"Back to Home"})]})]})})}):e.jsxs("div",{className:"min-h-screen bg-[#f8fafc] font-fredoka overflow-hidden pb-12",children:[e.jsxs("header",{className:"bg-white/80 backdrop-blur-md sticky top-0 z-50 p-4 flex items-center justify-between border-b shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>d("/activities/module-4"),className:"rounded-full",children:e.jsx(T,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl text-emerald-800",children:"Review: Forest Finale"}),e.jsx("div",{className:"flex gap-1",children:m.map((t,s)=>e.jsx("div",{className:`h-1.5 w-8 rounded-full transition-all ${s===l?"bg-emerald-500 w-12":s<l?"bg-emerald-200":"bg-slate-200"}`},s))})]})]}),e.jsxs("div",{className:"bg-emerald-100 px-4 py-2 rounded-full flex items-center gap-2",children:[e.jsx(A,{className:"text-emerald-600 fill-emerald-600"}),e.jsx("span",{className:"text-xl font-bold text-emerald-800",children:p})]})]}),e.jsx("main",{className:"container mx-auto max-w-4xl p-4 md:p-8",children:e.jsx(S,{mode:"wait",children:e.jsxs(c.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},exit:{x:-50,opacity:0},className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl text-emerald-900 mb-2",children:a.title}),e.jsx("p",{className:"text-xl text-slate-600",children:a.text})]}),e.jsxs(f,{className:"p-8 md:p-12 rounded-[2.5rem] bg-white shadow-xl min-h-[400px] flex items-center justify-center border-2 border-emerald-50 overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,#f0fdf4,transparent)] opacity-50"}),e.jsxs("div",{className:"relative z-10 w-full",children:[a.animals&&e.jsx("div",{className:"flex justify-center gap-4 mb-12 text-6xl",children:a.animals.map((t,s)=>e.jsx(c.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:s*.1},className:"bg-slate-50 p-4 rounded-2xl shadow-sm",children:t},s))}),a.pattern&&e.jsxs("div",{className:"flex justify-center gap-4 mb-12 text-6xl items-center",children:[a.pattern.map((t,s)=>e.jsx("div",{className:"bg-orange-50 p-4 rounded-2xl border-2 border-orange-100",children:t},s)),e.jsx("div",{className:"w-16 h-16 bg-emerald-50 border-4 border-dashed border-emerald-200 rounded-2xl flex items-center justify-center animate-pulse",children:"?"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-8 max-w-2xl mx-auto",children:a.options.map(t=>e.jsxs(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>w(t.id),className:`h-48 md:h-64 rounded-[2rem] border-4 transition-all flex flex-col items-center justify-center gap-4 text-2xl relative
                        ${i.show&&t.id===a.correctId?"bg-emerald-100 border-emerald-500 scale-105":i.show&&t.id!==a.correctId?"bg-red-50 border-red-200 opacity-50":"bg-slate-50 border-slate-100 hover:bg-white hover:border-emerald-200 shadow-sm"}`,children:[e.jsx("div",{className:`text-8xl transition-all ${t.size||""}`,children:t.id==="more"?e.jsxs("div",{className:"relative w-24 h-32 bg-slate-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-yellow-400 transition-all duration-500 ${t.level}`}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-5xl",children:"üçØ"})]}):t.img}),e.jsx("span",{className:"font-nunito font-bold text-slate-700",children:t.label}),i.show&&t.id===a.correctId&&e.jsx("div",{className:"absolute -top-4 -right-4 bg-emerald-500 text-white rounded-full p-2",children:e.jsx(I,{className:"w-8 h-8"})})]},t.id))})]})]})]},l)})}),e.jsx("footer",{className:"fixed bottom-0 left-0 right-0 p-8 flex justify-center pointer-events-none",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{className:"text-emerald-200 w-12 h-12"}),e.jsx(x,{className:"text-emerald-100 w-16 h-16"}),e.jsx(x,{className:"text-emerald-200 w-12 h-12"})]})})]})};export{$ as default};
